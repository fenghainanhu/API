I2C总线

1.IIC 总线,是 INTER-IC 串行总线的缩写。INTER-IC 原文大意是用于相互作用的集成电路,这种集成电
路主要由双向串行时钟线 SCL 和双向串行数据线 SDA 两条线路组成,由荷兰菲利浦公司于 80 年代研制开发
成功。

2.IIC 总线在传送数据时其速率可达 100kbps,最高速率时可达 400kbps,总线上允许连接的设备数主要
决定于总线上的电容量,一般设定为 400pF 以下。I2C 总线主要在微处理器的控制之下,因此通常称微处理
器是 I2C 总线的主机。习惯上总称受控设备及功能电路为 I2C 总线的从机。这种主机与从机之间的连接通常
是在总线的输出端,而输出端的电路结构为 IIC 总线的从机。这种主机与从机之间的连接通常是在总线的输
出端,而输出端的电路结构又总是开漏输出或集电极开路输出。 通常数据传送要由主机发出启动信号和时钟
信号,向所控从机发出一个地址、一个读写位和一个应答位,其中地址位为 7 位数据,在实际控制中,一般
一次只能传送一个 8 位数据,并以一个停止位结束。
在实际应用中,往往被传送的数据位数会超过 8 位,也就是说总会有多字节传送,这时必须在传送数据
地址结束后再传送一个副地址。因此,被传送的字节没有限制,但每一个字节后面必须有一位应答位。应答
位通常被设定在低电平,当应答位处于高电平时,指示被传送的数据已结束。
在 I2C 总线的控制系统中,有时从机也可以是多台微处理器,在多台微机同时工作时,它们对总线的控
制也由相似于时钟的同步方式进行仲裁,也就是说时钟的同步与仲裁过程是同时进行的,不存在因是主机而
有优先权次序。不同速度的从机可以接在同一 I2C 总线上完成相互间数据的传送。高速方式芯片和普通芯片
26iTOP-4412 开发板实战教程
可以混合于同一 I2C 总线上。

3.I2C 总线的特点与特性
I2C 总线与传统的 PWM 调宽脉冲相比较,其最大的特点是串行数据线和时钟线都是双向传输线。I2C
总线在实际电路的应用中,两根线各自通过一个上拉电阻连接到电源电压的正极端,当总线空闲时,数据线
SDA 和时钟线 SCL 必须保持高电平,同时各接口电路的输出又必须是开路漏极或开路集电极,因此 I2C 总
线的最大特性是在地址信息传输过程中,即可以是主控器也可以是被控器,或既可以是发射器又可以是接收
器,从而为挂在总线上的各集成电路或功能模块完成各自的功能提供了极大方便。
总线具有十分灵活的运用性,并且还具有多重主控的能力,如多个作为主控器去控制占用总线的电路,
都可以根据在 I2C 总线上进行数据传送的工作状态,被分为主控发送器、主控接收器、被控发射器、被控接
收器。在多重主控能力中,由于总线的仲裁过程,I2C 总线的时钟信号将是各试力占用总线的各主控器的时
钟信号的同步组合。所谓仲裁是在多个主控器试图同时控制总线时一个裁决过程,它只允许其中的一个主控
器继续占用总线,并保证在整个过程中总线上的数据不会被丢失或出错误;所谓同步是将两个或多个器件的
时钟信号进行处理
